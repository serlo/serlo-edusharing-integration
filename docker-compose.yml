version: '3.1'

services:
  mongo:
    image: mongo
    ports:
      - '27017:27017'
    environment:
      MONGO_INITDB_ROOT_USERNAME: root
      MONGO_INITDB_ROOT_PASSWORD: example

  editor:
    image: ghcr.io/serlo/ece-as-a-service:main
    ports:
      - '3000:3000'
    environment:
      PROVIDER_SECRET: LTIKEY
      PROVIDER_URL: http://localhost:3000
      MONGODB_URL: mongodb://localhost/admin
      MONGODB_USERNAME: root
      MONGODB_PASSWORD: example

      PLATFORM_URL: http://repository.127.0.0.1.nip.io:8100/edu-sharing
      PLATFORM_CLIENT_ID: M7UmOiBArpGyu4t
      PLATFORM_AUTHENTICATION_ENDPOINT: http://repository.127.0.0.1.nip.io:8100/edu-sharing/rest/ltiplatform/v13/auth
      PLATFORM_ACCESSTOKEN_ENDPOINT: http://repository.127.0.0.1.nip.io:8100/edu-sharing/rest/ltiplatform/v13/token
      PLATFORM_JWK_SET: http://repository.127.0.0.1.nip.io:8100/edu-sharing/rest/lti/v13/jwks

      EDITOR_PLATFORM_PRIVATE_KEY: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlDV2dJQkFBS0JnRjZhR1o0cTVySjdOYWxJVktkUkgyYnBOSGV5SjlaemRUN0d6enZ5U2lWa1lRUFB5Nm1tCjJoOVIvcC9NL1dZYjUrU3E5MzVJQUxxSmI1SC9lR0dWL0RpY0JTTHRxbUJ1MGlwZjgyenBoY0pTZ3pUSkliejYKSDVhdmdZcUdrUGtiUXAraWxWZmNqbTZGOHJhejhCOE9hRmo4WWhPcnlzMUJ1YktGclo2RkVnaUhBZ01CQUFFQwpnWUJlUEp1d1Y0UWYzMlNCRVRCaXpBaS85eWJ3NVdPUjJNbStrMFQwcmxMMkZKd2ZzK3RwUUhDZ0tvbStuZkQrCnVtV3lBQzB5ZW45ZlVuRDF1c3NzU3NCSVhlcVpaYWx0c1NOeXlUZjVwWWFQR0REQnh5d1VYV3lpV2JMdEpYcE0KWExtYTNOc1dYcFRna2FSVzcxOHJBMjVCdmZHaDlCeTIxK25uRWM5U2o3STBnUUpCQUo1dHB5UzlwVFdZNVgycgpvcDlhU3V3bUlzWUEzRzlGV0NMS2h6T1ZyOTk3K3dPc2dOV1EydTdCOVkzQktFZVFobE1Hazl6cW1xazhEd2ZJCkNmZGZOTEVDUVFDWTNWMUNuYklScFNzc1RlVnZZK1pVei9FZTBrZWkxTmwyNEQwUGFWTzNFZ3RCZXV1WmtwOG8KRG5MTldXb3QxL0dibnBuMjRPaFd4REgyYmRaUGFMNjNBa0FodVBtQkNwVW1DWHVmK203Tk9LMEdBMEFYb1l0SwpiQnBNbll1VjRXRGtVMEdsRUkwRDZLZVJkdHZMNXJlcU5BdERsUHpZWTErMGNrSkl4NzNIV0E2aEFrQlZ6LzZvCmhNb1BxYjdnc2lIWU5DWjYrZmlMcXRQWUR0QzlNUWhWL0hTb1VwTExBV3Y4M0JoSWJrUDREdmZTSUdWYlROOTEKZmJBdjlSZHZGUjIzbWo5bEFrQmVvWEsxVytCd2RXb0JRS3ptMEtsaDkwbW5PSkRPMVFIeFdZeVJkRVRTNUZGSwpJR2xqS1BJK1k0QXFGRjU4Sk0xS3JSb2gyNHNmWWVwSEdiYVQrbWNpCi0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0t
      EDITOR_PLATFORM_PUBLIC_KEY: LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUlHZU1BMEdDU3FHU0liM0RRRUJBUVVBQTRHTUFEQ0JpQUtCZ0Y2YUdaNHE1cko3TmFsSVZLZFJIMmJwTkhleQpKOVp6ZFQ3R3p6dnlTaVZrWVFQUHk2bW0yaDlSL3AvTS9XWWI1K1NxOTM1SUFMcUpiNUgvZUdHVi9EaWNCU0x0CnFtQnUwaXBmODJ6cGhjSlNnelRKSWJ6Nkg1YXZnWXFHa1BrYlFwK2lsVmZjam02RjhyYXo4QjhPYUZqOFloT3IKeXMxQnViS0ZyWjZGRWdpSEFnTUJBQUU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQ==
